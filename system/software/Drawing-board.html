<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberCanvas | 赛博画板</title>
    <link rel="stylesheet" href="CSS & JS/Drawing-board.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="app-container">
        <!-- 左侧工具栏 -->
        <div class="cyber-toolbar">
            <!-- 工具状态指示器 -->
            <div class="status-display">
                <div class="status-item">
                    <span class="status-label">MODE</span>
                    <span class="status-value" id="modeDisplay">BRUSH</span>
                </div>
                <div class="status-item">
                    <span class="status-label">SIZE</span>
                    <span class="status-value" id="sizeDisplay">05</span>
                </div>
                <div class="status-item">
                    <span class="status-label">COLOR</span>
                    <span class="status-value" id="colorDisplay">#409CFF</span>
                </div>
            </div>

            <!-- 主要工具组 -->
            <div class="tool-section">
                <h3 class="cyber-title"><i class="fas fa-brush"></i> 绘制工具</h3>
                <div class="tool-grid">
                    <button class="cyber-btn" id="brushBtn" data-active="true">
                        <i class="fas fa-paint-brush"></i> 画笔
                    </button>
                    <button class="cyber-btn" id="eraserBtn">
                        <i class="fas fa-eraser"></i> 橡皮
                    </button>
                    <button class="cyber-btn" id="lineBtn">
                        <i class="fas fa-minus"></i> 直线
                    </button>
                    <button class="cyber-btn" id="sprayBtn">
                        <i class="fas fa-spray-can"></i> 喷枪
                    </button>
                    <button class="cyber-btn" id="fillBtn">
                        <i class="fas fa-fill-drip"></i> 填充
                    </button>
                    <button class="cyber-btn" id="gradientBtn">
                        <i class="fas fa-gradient"></i> 渐变
                    </button>
                </div>
            </div>

            <!-- 形状工具组 -->
            <div class="tool-section">
                <h3 class="cyber-title"><i class="fas fa-shapes"></i> 形状</h3>
                <div class="tool-grid">
                    <button class="cyber-btn" id="rectBtn">
                        <i class="fas fa-square"></i> 矩形
                    </button>
                    <button class="cyber-btn" id="circleBtn">
                        <i class="fas fa-circle"></i> 圆形
                    </button>
                    <button class="cyber-btn" id="triangleBtn">
                        <i class="fas fa-play"></i> 三角
                    </button>
                    <button class="cyber-btn" id="starBtn">
                        <i class="fas fa-star"></i> 星形
                    </button>
                    <button class="cyber-btn" id="polygonBtn">
                        <i class="fas fa-draw-polygon"></i> 多边形
                    </button>
                    <button class="cyber-btn" id="arrowBtn">
                        <i class="fas fa-arrow-right"></i> 箭头
                    </button>
                </div>
            </div>

            <!-- 颜色选择器 -->
            <div class="tool-section">
                <h3 class="cyber-title"><i class="fas fa-palette"></i> 颜色</h3>
                <div class="color-grid" id="colorPalette">
                    <!-- 颜色将通过JS动态生成 -->
                </div>
                <div class="color-controls">
                    <input type="color" id="colorPicker" value="#409CFF">
                    <div class="hex-input">
                        <span>#</span>
                        <input type="text" id="hexInput" value="409CFF" maxlength="6">
                    </div>
                </div>
            </div>

            <!-- 画笔设置 -->
            <div class="tool-section">
                <h3 class="cyber-title"><i class="fas fa-sliders-h"></i> 画笔设置</h3>
                <div class="slider-container">
                    <label>大小: <span id="brushSizeValue">5</span>px</label>
                    <input type="range" id="brushSize" min="1" max="100" value="5" class="cyber-slider">
                </div>
                <div class="slider-container">
                    <label>透明度: <span id="opacityValue">100</span>%</label>
                    <input type="range" id="opacitySlider" min="1" max="100" value="100" class="cyber-slider">
                </div>
                <div class="slider-container">
                    <label>平滑度: <span id="smoothnessValue">5</span></label>
                    <input type="range" id="smoothnessSlider" min="0" max="20" value="5" class="cyber-slider">
                </div>
                
                <div class="line-style">
                    <button class="style-btn" id="solidLine" data-active="true">实线</button>
                    <button class="style-btn" id="dashedLine">虚线</button>
                    <button class="style-btn" id="dottedLine">点线</button>
                </div>
            </div>

            <!-- 编辑工具 -->
            <div class="tool-section">
                <h3 class="cyber-title"><i class="fas fa-edit"></i> 编辑</h3>
                <div class="tool-grid">
                    <button class="cyber-btn" id="undoBtn">
                        <i class="fas fa-undo"></i> 撤销
                    </button>
                    <button class="cyber-btn" id="redoBtn">
                        <i class="fas fa-redo"></i> 重做
                    </button>
                    <button class="cyber-btn" id="clearBtn">
                        <i class="fas fa-trash"></i> 清空
                    </button>
                    <button class="cyber-btn" id="cropBtn">
                        <i class="fas fa-crop"></i> 裁剪
                    </button>
                    <button class="cyber-btn" id="selectBtn">
                        <i class="fas fa-vector-square"></i> 选择
                    </button>
                    <button class="cyber-btn" id="transformBtn">
                        <i class="fas fa-expand-alt"></i> 变换
                    </button>
                </div>
            </div>

            <!-- 图层管理 -->
            <div class="tool-section">
                <h3 class="cyber-title"><i class="fas fa-layer-group"></i> 图层</h3>
                <div class="layers-container">
                    <div class="layer-controls">
                        <button class="cyber-btn small" id="addLayerBtn">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="cyber-btn small" id="removeLayerBtn">
                            <i class="fas fa-minus"></i>
                        </button>
                        <button class="cyber-btn small" id="mergeLayersBtn">
                            <i class="fas fa-compress"></i>
                        </button>
                    </div>
                    <div class="layers-list" id="layersList">
                        <!-- 图层将通过JS动态生成 -->
                    </div>
                </div>
            </div>

            <!-- 文件操作 -->
            <div class="tool-section">
                <h3 class="cyber-title"><i class="fas fa-file"></i> 文件</h3>
                <div class="tool-grid">
                    <button class="cyber-btn primary" id="saveBtn">
                        <i class="fas fa-save"></i> 保存
                    </button>
                    <button class="cyber-btn" id="loadBtn">
                        <i class="fas fa-folder-open"></i> 打开
                    </button>
                    <button class="cyber-btn" id="exportPNGBtn">
                        <i class="fas fa-download"></i> PNG
                    </button>
                    <button class="cyber-btn" id="exportJPGBtn">
                        <i class="fas fa-download"></i> JPG
                    </button>
                    <button class="cyber-btn" id="exportPDFBtn">
                        <i class="fas fa-file-pdf"></i> PDF
                    </button>
                    <button class="cyber-btn" id="printBtn">
                        <i class="fas fa-print"></i> 打印
                    </button>
                </div>
            </div>
        </div>

        <!-- 中间画布区域 -->
        <div class="canvas-area">
            <div class="canvas-container">
                <canvas id="mainCanvas"></canvas>
                <div class="canvas-overlay" id="canvasOverlay"></div>
                
                <!-- 坐标和状态显示 -->
                <div class="hud-display">
                    <div class="hud-item">
                        <span class="hud-label">X:</span>
                        <span class="hud-value" id="coordX">0000</span>
                    </div>
                    <div class="hud-item">
                        <span class="hud-label">Y:</span>
                        <span class="hud-value" id="coordY">0000</span>
                    </div>
                    <div class="hud-item">
                        <span class="hud-label">ZOOM:</span>
                        <span class="hud-value" id="zoomLevel">100%</span>
                    </div>
                </div>
                
                <!-- 缩放控制 -->
                <div class="zoom-controls">
                    <button class="zoom-btn" id="zoomInBtn">
                        <i class="fas fa-search-plus"></i>
                    </button>
                    <button class="zoom-btn" id="zoomOutBtn">
                        <i class="fas fa-search-minus"></i>
                    </button>
                    <button class="zoom-btn" id="zoomResetBtn">
                        <i class="fas fa-expand-arrows-alt"></i>
                    </button>
                </div>
            </div>
            
            <!-- 画布尺寸控制 -->
            <div class="canvas-size-controls">
                <div class="size-input">
                    <label>宽度:</label>
                    <input type="number" id="canvasWidth" value="1920" min="100" max="10000">
                    <span>px</span>
                </div>
                <div class="size-input">
                    <label>高度:</label>
                    <input type="number" id="canvasHeight" value="1080" min="100" max="10000">
                    <span>px</span>
                </div>
                <button class="cyber-btn small" id="resizeCanvasBtn">应用</button>
            </div>
        </div>

        <!-- 右侧属性面板 -->
        <div class="properties-panel">
            <!-- 工具属性 -->
            <div class="property-section">
                <h3 class="cyber-title"><i class="fas fa-cog"></i> 工具属性</h3>
                <div id="toolProperties">
                    <!-- 工具属性将动态加载 -->
                </div>
            </div>

            <!-- 历史记录 -->
            <div class="property-section">
                <h3 class="cyber-title"><i class="fas fa-history"></i> 历史记录</h3>
                <div class="history-list" id="historyList">
                    <!-- 历史记录将动态生成 -->
                </div>
            </div>

            <!-- 预设 -->
            <div class="property-section">
                <h3 class="cyber-title"><i class="fas fa-box"></i> 预设</h3>
                <div class="presets-grid">
                    <button class="preset-btn" data-preset="grid">
                        <i class="fas fa-th"></i> 网格
                    </button>
                    <button class="preset-btn" data-preset="stars">
                        <i class="fas fa-star"></i> 星空
                    </button>
                    <button class="preset-btn" data-preset="circuit">
                        <i class="fas fa-microchip"></i> 电路
                    </button>
                    <button class="preset-btn" data-preset="gradient">
                        <i class="fas fa-sun"></i> 渐变
                    </button>
                    <button class="preset-btn" data-preset="noise">
                        <i class="fas fa-wave-square"></i> 噪点
                    </button>
                    <button class="preset-btn" data-preset="pattern">
                        <i class="fas fa-border-all"></i> 图案
                    </button>
                </div>
            </div>

            <!-- 滤镜效果 -->
            <div class="property-section">
                <h3 class="cyber-title"><i class="fas fa-filter"></i> 滤镜</h3>
                <div class="filters-grid">
                    <button class="filter-btn" data-filter="invert">反色</button>
                    <button class="filter-btn" data-filter="grayscale">灰度</button>
                    <button class="filter-btn" data-filter="sepia">复古</button>
                    <button class="filter-btn" data-filter="blur">模糊</button>
                    <button class="filter-btn" data-filter="sharpen">锐化</button>
                    <button class="filter-btn" data-filter="edge">边缘</button>
                    <button class="filter-btn" data-filter="noise">噪点</button>
                    <button class="filter-btn" data-filter="pixelate">像素化</button>
                    <button class="filter-btn" data-filter="vignette">暗角</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 模态框 -->
    <div id="modalOverlay" class="modal-overlay">
        <div class="cyber-modal">
            <div class="modal-header">
                <h3 id="modalTitle"></h3>
                <button class="modal-close" id="modalCloseBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-content" id="modalContent">
                <!-- 模态框内容将动态加载 -->
            </div>
        </div>
    </div>

    <!-- 通知 -->
    <div id="notification" class="cyber-notification">
        <span id="notificationText"></span>
    </div>

    <script src="CSS & JS/Drawing-board.js"></script>
</body>
</html>